<html><head><style type="text/css">@charset "UTF-8";[ng\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\:form{display:block;}</style>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="viewport" content="width=device-width">
  <base href="../../">
  <title>Documentation</title>
  <link rel="stylesheet" type="text/css" href="./bower_components/bootstrap/dist/css/bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="./bower_components/bootstrap/dist/css/bootstrap-theme.min.css">
  <!-- Flatdoc theme -->
  <link href="./bower_components/flatdoc/theme-white/style.css" rel="stylesheet">
  <script src="./bower_components/google-code-prettify/bin/prettify.min.js"></script>
  <link rel="stylesheet" type="text/css" href="./bower_components/google-code-prettify/bin/prettify.min.css">
  <link rel="stylesheet" type="text/css" href="./bower_components/font-awesome/css/font-awesome.min.css">
  <!-- DocBase -->
  <link rel="stylesheet" type="text/css" href="./bower_components/docbase/dist/css/main.min.css">
  <!-- Theme -->
  <link rel="stylesheet" type="text/css" href="./styles/theme.css">
  
<script type="text/javascript" async="" src="http://twitter.github.io/typeahead.js/releases/latest/typeahead.bundle.js"></script></head>
<body role="flatdoc" class="no-literate">
  <!-- ngView:  --><div ng-view="" class="ng-scope"><!-- ngInclude: navbarHtml --><nav class="navbar navbar-default navbar-fixed-top ng-scope" ng-include="navbarHtml"><div class="container-fluid ng-scope">
  <div class="navbar-header">
    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a id="docs-appbase-logo" class="navbar-brand" ng-href="#/" href="#/">
      <img src="./images/docbase.png">
    </a>
  </div>

  <div class="collapse navbar-collapse" id="navbar-collapse">
    <ul class="nav navbar-nav">
      <!-- ngRepeat: folder in map[currentVersion] --><li class="dropdown ng-scope" ng-repeat="folder in map[currentVersion]">
        <a ng-href=./alpha/commands/index.html class="dropdown-toggle map_folder ng-binding" data-toggle="dropdown" role="button" aria-expanded="false" ng-bind="folder.label" href=./alpha/commands/index.html>commands</a>
        <ul class="dropdown-menu">
          <!-- ngRepeat: file in folder.files --><li ng-repeat="file in folder.files" data-ng-hide="file.name == 'index'" class="ng-scope">
            <a ng-href=./alpha/commands/append.html ng-bind="file.label" class="ng-binding" href=./alpha/commands/append.html>append</a>
          </li><!-- end ngRepeat: file in folder.files --><li ng-repeat="file in folder.files" data-ng-hide="file.name == 'index'" class="ng-scope">
            <a ng-href=./alpha/commands/auth.html ng-bind="file.label" class="ng-binding" href=./alpha/commands/auth.html>auth</a>
          </li><!-- end ngRepeat: file in folder.files --><li ng-repeat="file in folder.files" data-ng-hide="file.name == 'index'" class="ng-scope">
            <a ng-href=./alpha/commands/bgrewriteaof.html ng-bind="file.label" class="ng-binding" href=./alpha/commands/bgrewriteaof.html>bgrewriteaof</a>
          </li><!-- end ngRepeat: file in folder.files --><li ng-repeat="file in folder.files" data-ng-hide="file.name == 'index'" class="ng-scope">
            <a ng-href=./alpha/commands/bgsave.html ng-bind="file.label" class="ng-binding" href=./alpha/commands/bgsave.html>bgsave</a>
          </li><!-- end ngRepeat: file in folder.files --><li ng-repeat="file in folder.files" data-ng-hide="file.name == 'index'" class="ng-scope">
            <a ng-href=./alpha/commands/bitcount.html ng-bind="file.label" class="ng-binding" href=./alpha/commands/bitcount.html>bitcount</a>
          </li><!-- end ngRepeat: file in folder.files --><li ng-repeat="file in folder.files" data-ng-hide="file.name == 'index'" class="ng-scope">
            <a ng-href=./alpha/commands/bitop.html ng-bind="file.label" class="ng-binding" href=./alpha/commands/bitop.html>bitop</a>
          </li><!-- end ngRepeat: file in folder.files --><li ng-repeat="file in folder.files" data-ng-hide="file.name == 'index'" class="ng-scope">
            <a ng-href=./alpha/commands/bitpos.html ng-bind="file.label" class="ng-binding" href=./alpha/commands/bitpos.html>bitpos</a>
          </li><!-- end ngRepeat: file in folder.files --><li ng-repeat="file in folder.files" data-ng-hide="file.name == 'index'" class="ng-scope ng-hide">
            <a ng-href=./alpha/commands/index.html ng-bind="file.label" class="ng-binding" href=./alpha/commands/index.html>index</a>
          </li><!-- end ngRepeat: file in folder.files -->
        </ul>
      </li><!-- end ngRepeat: folder in map[currentVersion] --><li class="dropdown ng-scope" ng-repeat="folder in map[currentVersion]">
        <a ng-href=./alpha/topics/index.html class="dropdown-toggle map_folder ng-binding" data-toggle="dropdown" role="button" aria-expanded="false" ng-bind="folder.label" href=./alpha/topics/index.html>topics</a>
        <ul class="dropdown-menu">
          <!-- ngRepeat: file in folder.files --><li ng-repeat="file in folder.files" data-ng-hide="file.name == 'index'" class="ng-scope">
            <a ng-href=./alpha/topics/admin.html ng-bind="file.label" class="ng-binding" href=./alpha/topics/admin.html>admin</a>
          </li><!-- end ngRepeat: file in folder.files --><li ng-repeat="file in folder.files" data-ng-hide="file.name == 'index'" class="ng-scope">
            <a ng-href=./alpha/topics/benchmarks.html ng-bind="file.label" class="ng-binding" href=./alpha/topics/benchmarks.html>benchmarks</a>
          </li><!-- end ngRepeat: file in folder.files --><li ng-repeat="file in folder.files" data-ng-hide="file.name == 'index'" class="ng-scope">
            <a ng-href=./alpha/topics/clients.html ng-bind="file.label" class="ng-binding" href=./alpha/topics/clients.html>clients</a>
          </li><!-- end ngRepeat: file in folder.files --><li ng-repeat="file in folder.files" data-ng-hide="file.name == 'index'" class="ng-scope">
            <a ng-href=./alpha/topics/cluster-spec.html ng-bind="file.label" class="ng-binding" href=./alpha/topics/cluster-spec.html>cluster-spec</a>
          </li><!-- end ngRepeat: file in folder.files --><li ng-repeat="file in folder.files" data-ng-hide="file.name == 'index'" class="ng-scope">
            <a ng-href=./alpha/topics/cluster-tutorial.html ng-bind="file.label" class="ng-binding" href=./alpha/topics/cluster-tutorial.html>cluster-tutorial</a>
          </li><!-- end ngRepeat: file in folder.files --><li ng-repeat="file in folder.files" data-ng-hide="file.name == 'index'" class="ng-scope">
            <a ng-href=./alpha/topics/config.html ng-bind="file.label" class="ng-binding" href=./alpha/topics/config.html>config</a>
          </li><!-- end ngRepeat: file in folder.files --><li ng-repeat="file in folder.files" data-ng-hide="file.name == 'index'" class="ng-scope">
            <a ng-href=./alpha/topics/data-types-intro.html ng-bind="file.label" class="ng-binding" href=./alpha/topics/data-types-intro.html>data-types-intro</a>
          </li><!-- end ngRepeat: file in folder.files --><li ng-repeat="file in folder.files" data-ng-hide="file.name == 'index'" class="ng-scope">
            <a ng-href=./alpha/topics/data-types.html ng-bind="file.label" class="ng-binding" href=./alpha/topics/data-types.html>data-types</a>
          </li><!-- end ngRepeat: file in folder.files --><li ng-repeat="file in folder.files" data-ng-hide="file.name == 'index'" class="ng-scope">
            <a ng-href=./alpha/topics/debugging.html ng-bind="file.label" class="ng-binding" href=./alpha/topics/debugging.html>debugging</a>
          </li><!-- end ngRepeat: file in folder.files --><li ng-repeat="file in folder.files" data-ng-hide="file.name == 'index'" class="ng-scope">
            <a ng-href=./alpha/topics/distlock.html ng-bind="file.label" class="ng-binding" href=./alpha/topics/distlock.html>distlock</a>
          </li><!-- end ngRepeat: file in folder.files --><li ng-repeat="file in folder.files" data-ng-hide="file.name == 'index'" class="ng-scope">
            <a ng-href=./alpha/topics/encryption.html ng-bind="file.label" class="ng-binding" href=./alpha/topics/encryption.html>encryption</a>
          </li><!-- end ngRepeat: file in folder.files --><li ng-repeat="file in folder.files" data-ng-hide="file.name == 'index'" class="ng-scope">
            <a ng-href=./alpha/topics/faq.html ng-bind="file.label" class="ng-binding" href=./alpha/topics/faq.html>faq</a>
          </li><!-- end ngRepeat: file in folder.files --><li ng-repeat="file in folder.files" data-ng-hide="file.name == 'index'" class="ng-scope">
            <a ng-href=./alpha/topics/indexes.html ng-bind="file.label" class="ng-binding" href=./alpha/topics/indexes.html>indexes</a>
          </li><!-- end ngRepeat: file in folder.files --><li ng-repeat="file in folder.files" data-ng-hide="file.name == 'index'" class="ng-scope ng-hide">
            <a ng-href=./alpha/topics/index.html ng-bind="file.label" class="ng-binding" href=./alpha/topics/index.html>index</a>
          </li><!-- end ngRepeat: file in folder.files -->
        </ul>
      </li><!-- end ngRepeat: folder in map[currentVersion] -->
    </ul>

    <ul class="nav navbar-nav navbar-right">
       <li class="dropdown search-dropdown">
        <div class="form-group search-form" data-ng-class="{'open-in':search.length &gt; 0}"><input class="search_field form-control dropdown-toggle appbase-search" type="text" placeholder="search"></div>
      </li>
      <li class="dropdown">
        <a href="" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
           <span ng-bind="currentVersion" class="ng-binding">alpha</span> <span class="caret"></span>
        </a>
        <ul class="dropdown-menu version-switcher" role="menu">
          <!-- ngRepeat: version in versions --><li ng-repeat="version in versions" class="ng-scope">
            <a ng-href=./alpha/commands/append.html ng-bind="version" class="ng-binding" href=./alpha/commands/append.html>alpha</a>
          </li><!-- end ngRepeat: version in versions -->
        </ul>
      </li>
      <!-- ngIf: docbaseOptions.method == 'github' --><li class="github-star ng-scope" data-ng-if="docbaseOptions.method == 'github'">
        <iframe src="https://ghbtns.com/github-btn.html?user=farhan687&amp;repo=redis&amp;type=star&amp;count=true" frameborder="0" scrolling="0" width="170px" height="20px"></iframe>
      </li><!-- end ngIf: docbaseOptions.method == 'github' -->
      <!-- ngIf: docbaseOptions.method != 'github' -->
    </ul>
  </div><!-- /.navbar-collapse -->
</div><!-- /.container-fluid -->
</nav>
<!-- ngIf: !index --><div role="flatdoc" class="content-root ng-scope" data-ng-if="!index">
  <div class="menubar fixed">
    <div class="menu section" role="flatdoc-menu"><ul><li id="root-item" class="level-0"><ul class="level-1" id="root-list"><li id="faq-item" class="level-1"><a id="faq-link" href="./alpha/topics/faq.html#faq" class="level-1" pref="#faq">FAQ</a><ul class="level-2" id="faq-list"><li id="faq-why-redis-is-different-compared-to-other-key-value-stores-item" class="level-2"><a id="faq-why-redis-is-different-compared-to-other-key-value-stores-link" href="./alpha/topics/faq.html#faq-why-redis-is-different-compared-to-other-key-value-stores" class="level-2" pref="#faq-why-redis-is-different-compared-to-other-key-value-stores">Why Redis is different compared to other key-value stores?</a></li><li id="faq-whats-the-redis-memory-footprint-item" class="level-2"><a id="faq-whats-the-redis-memory-footprint-link" href="./alpha/topics/faq.html#faq-whats-the-redis-memory-footprint" class="level-2" pref="#faq-whats-the-redis-memory-footprint">What’s the Redis memory footprint?</a></li><li id="faq-i-like-rediss-high-level-operations-and-features-but-i-dont-like-that-it-takes-everything-in-memory-and-i-cant-have-a-dataset-larger-the-memory-plans-to-change-this-item" class="level-2"><a id="faq-i-like-rediss-high-level-operations-and-features-but-i-dont-like-that-it-takes-everything-in-memory-and-i-cant-have-a-dataset-larger-the-memory-plans-to-change-this-link" href="./alpha/topics/faq.html#faq-i-like-rediss-high-level-operations-and-features-but-i-dont-like-that-it-takes-everything-in-memory-and-i-cant-have-a-dataset-larger-the-memory-plans-to-change-this" class="level-2" pref="#faq-i-like-rediss-high-level-operations-and-features-but-i-dont-like-that-it-takes-everything-in-memory-and-i-cant-have-a-dataset-larger-the-memory-plans-to-change-this">I like Redis’s high level operations and features, but I don’t like that it takes everything in memory and I can’t have a dataset larger the memory. Plans to change this?</a></li><li id="faq-is-using-redis-together-with-an-on-disk-database-a-good-idea-item" class="level-2"><a id="faq-is-using-redis-together-with-an-on-disk-database-a-good-idea-link" href="./alpha/topics/faq.html#faq-is-using-redis-together-with-an-on-disk-database-a-good-idea" class="level-2" pref="#faq-is-using-redis-together-with-an-on-disk-database-a-good-idea">Is using Redis together with an on-disk database a good idea?</a></li><li id="faq-is-there-something-i-can-do-to-lower-the-redis-memory-usage-item" class="level-2"><a id="faq-is-there-something-i-can-do-to-lower-the-redis-memory-usage-link" href="./alpha/topics/faq.html#faq-is-there-something-i-can-do-to-lower-the-redis-memory-usage" class="level-2" pref="#faq-is-there-something-i-can-do-to-lower-the-redis-memory-usage">Is there something I can do to lower the Redis memory usage?</a></li><li id="faq-what-happens-if-redis-runs-out-of-memory-item" class="level-2"><a id="faq-what-happens-if-redis-runs-out-of-memory-link" href="./alpha/topics/faq.html#faq-what-happens-if-redis-runs-out-of-memory" class="level-2" pref="#faq-what-happens-if-redis-runs-out-of-memory">What happens if Redis runs out of memory?</a></li><li id="faq-background-saving-is-failing-with-a-fork-error-under-linux-even-if-ive-a-lot-of-free-ram-item" class="level-2"><a id="faq-background-saving-is-failing-with-a-fork-error-under-linux-even-if-ive-a-lot-of-free-ram-link" href="./alpha/topics/faq.html#faq-background-saving-is-failing-with-a-fork-error-under-linux-even-if-ive-a-lot-of-free-ram" class="level-2" pref="#faq-background-saving-is-failing-with-a-fork-error-under-linux-even-if-ive-a-lot-of-free-ram">Background saving is failing with a fork() error under Linux even if I’ve a lot of free RAM!</a></li><li id="faq-are-redis-on-disk-snapshots-atomic-item" class="level-2"><a id="faq-are-redis-on-disk-snapshots-atomic-link" href="./alpha/topics/faq.html#faq-are-redis-on-disk-snapshots-atomic" class="level-2" pref="#faq-are-redis-on-disk-snapshots-atomic">Are Redis on-disk-snapshots atomic?</a></li><li id="faq-redis-is-single-threaded-how-can-i-exploit-multiple-cpu-cores-item" class="level-2"><a id="faq-redis-is-single-threaded-how-can-i-exploit-multiple-cpu-cores-link" href="./alpha/topics/faq.html#faq-redis-is-single-threaded-how-can-i-exploit-multiple-cpu-cores" class="level-2" pref="#faq-redis-is-single-threaded-how-can-i-exploit-multiple-cpu-cores">Redis is single threaded. How can I exploit multiple CPU / cores?</a></li><li id="faq-what-is-the-maximum-number-of-keys-a-single-redis-instance-can-hold-and-what-the-max-number-of-elements-in-a-hash-list-set-sorted-set-item" class="level-2"><a id="faq-what-is-the-maximum-number-of-keys-a-single-redis-instance-can-hold-and-what-the-max-number-of-elements-in-a-hash-list-set-sorted-set-link" href="./alpha/topics/faq.html#faq-what-is-the-maximum-number-of-keys-a-single-redis-instance-can-hold-and-what-the-max-number-of-elements-in-a-hash-list-set-sorted-set" class="level-2" pref="#faq-what-is-the-maximum-number-of-keys-a-single-redis-instance-can-hold-and-what-the-max-number-of-elements-in-a-hash-list-set-sorted-set">What is the maximum number of keys a single Redis instance can hold? and what the max number of elements in a Hash, List, Set, Sorted Set?</a></li><li id="faq-my-slave-claims-to-have-a-different-number-of-keys-compared-to-its-master-why-item" class="level-2"><a id="faq-my-slave-claims-to-have-a-different-number-of-keys-compared-to-its-master-why-link" href="./alpha/topics/faq.html#faq-my-slave-claims-to-have-a-different-number-of-keys-compared-to-its-master-why" class="level-2" pref="#faq-my-slave-claims-to-have-a-different-number-of-keys-compared-to-its-master-why">My slave claims to have a different number of keys compared to its master, why?</a></li><li id="faq-what-redis-means-actually-item" class="level-2"><a id="faq-what-redis-means-actually-link" href="./alpha/topics/faq.html#faq-what-redis-means-actually" class="level-2" pref="#faq-what-redis-means-actually">What Redis means actually?</a></li><li id="faq-why-did-you-start-the-redis-project-item" class="level-2"><a id="faq-why-did-you-start-the-redis-project-link" href="./alpha/topics/faq.html#faq-why-did-you-start-the-redis-project" class="level-2" pref="#faq-why-did-you-start-the-redis-project">Why did you start the Redis project?</a></li></ul></li></ul></li></ul></div>
  </div>
  <div role="flatdoc-content" class="content"><div class="extra_container"><div class="contributors_header">Contributors<span class="pull-right modified-date">Last Modified On : <a href="https://github.com/farhan687/redis/commit/75a57c6c9a9f100cfeab720e0bac477e9e4e6566">Mar 21, 2016</a></span></div><div class="contributor-container"><a class="contributor" href="https://github.com/farhan687" title="farhan687" target="_blank"><img class="contributor_img img-rounded" src="https://avatars.githubusercontent.com/u/6059027?v=3" alt="farhan687"></a></div></div><div class="clearFix"></div><h1 id="faq">FAQ</h1><h2 id="faq-why-redis-is-different-compared-to-other-key-value-stores">Why Redis is different compared to other key-value stores?</h2><p>There are two main reasons.</p><ul>
<li>Redis is a different evolution path in the key-value DBs where values can contain more complex data types, with atomic operations defined on those data types. Redis data types are closely related to fundamental data structures and are exposed to the programmer as such, without additional abstraction layers.</li>
<li>Redis is an in-memory but persistent on disk database, so it represents a different trade off where very high write and read speed is achieved with the limitation of data sets that can’t be larger than memory. Another advantage of
in memory databases is that the memory representation of complex data structures
is much simpler to manipulate compared to the same data structure on disk, so
Redis can do a lot, with little internal complexity. At the same time the
two on-disk storage formats (RDB and AOF) don’t need to be suitable for random
access, so they are compact and always generated in an append-only fashion
(Even the AOF log rotation is an append-only operation, since the new version
is generated from the copy of data in memory).</li>
</ul><h2 id="faq-whats-the-redis-memory-footprint">What’s the Redis memory footprint?</h2><p>To give you a few examples (all obtained using 64-bit instances):</p><ul>
<li>An empty instance uses ~ 1MB of memory.</li>
<li>1 Million small Keys -&gt; String Value pairs use ~ 100MB of memory.</li>
<li>1 Million Keys -&gt; Hash value, representing an object with 5 fields, use ~ 200 MB of memory.</li>
</ul><p>To test your use case is trivial using the <code>redis-benchmark</code> utility to generate random data sets and check with the <code>INFO memory</code> command the space used.</p><p>64-bit systems will use considerably more memory than 32-bit systems to store the same keys, especially if the keys and values are small. This is because pointers take 8 bytes in 64-bit systems. But of course the advantage is that you can
have a lot of memory in 64-bit systems, so in order to run large Redis servers a 64-bit system is more or less required. The alternative is sharding.</p><h2 id="faq-i-like-rediss-high-level-operations-and-features-but-i-dont-like-that-it-takes-everything-in-memory-and-i-cant-have-a-dataset-larger-the-memory-plans-to-change-this">I like Redis’s high level operations and features, but I don’t like that it takes everything in memory and I can’t have a dataset larger the memory. Plans to change this?</h2><p>In the past the Redis developers experimented with Virtual Memory and other systems in order to allow larger than RAM datasets, but after all we are very happy if we can do one thing well: data served from memory, disk used for storage. So for now there are no plans to create an on disk backend for Redis. Most of what
Redis is, after all, is a direct result of its current design.</p><p>If your real problem is not the total RAM needed, but the fact that you need
to split your data set into multiple Redis instances, please read the
<a href="/topics/partitioning">Partitioning page</a> in this documentation for more info.</p><h2 id="faq-is-using-redis-together-with-an-on-disk-database-a-good-idea">Is using Redis together with an on-disk database a good idea?</h2><p>Yes, a common design pattern involves taking very write-heavy small data
in Redis (and data you need the Redis data structures to model your problem
in an efficient way), and big <em>blobs</em> of data into an SQL or eventually
consistent on-disk database.</p><h2 id="faq-is-there-something-i-can-do-to-lower-the-redis-memory-usage">Is there something I can do to lower the Redis memory usage?</h2><p>If you can, use Redis 32 bit instances. Also make good use of small hashes,
lists, sorted sets, and sets of integers, since Redis is able to represent
those data types in the special case of a few elements in a much more compact
way. There is more info in the <a href="/topics/memory-optimization">Memory Optimization page</a>.</p><h2 id="faq-what-happens-if-redis-runs-out-of-memory">What happens if Redis runs out of memory?</h2><p>Redis will either be killed by the Linux kernel OOM killer,
crash with an error, or will start to slow down.
With modern operating systems malloc() returning NULL is not common, usually
the server will start swapping, and Redis performance will degrade, so
you’ll probably notice there is something wrong.</p><p>The INFO command will report the amount of memory Redis is using so you can
write scripts that monitor your Redis servers checking for critical conditions.</p><p>Redis has built-in protections allowing the user to set a max limit to memory
usage, using the <code>maxmemory</code> option in the config file to put a limit
to the memory Redis can use. If this limit is reached Redis will start to reply
with an error to write commands (but will continue to accept read-only
commands), or you can configure it to evict keys when the max memory limit
is reached in the case you are using Redis for caching.</p><p>We have documentation if you plan to use <a href="/topics/lru-cache">Redis as an LRU cache</a>.</p><h2 id="faq-background-saving-is-failing-with-a-fork-error-under-linux-even-if-ive-a-lot-of-free-ram">Background saving is failing with a fork() error under Linux even if I’ve a lot of free RAM!</h2><p>Short answer: <code>echo 1 &gt; /proc/sys/vm/overcommit_memory</code> :)</p><p>And now the long one:</p><p>Redis background saving schema relies on the copy-on-write semantic of fork in
modern operating systems: Redis forks (creates a child process) that is an
exact copy of the parent. The child process dumps the DB on disk and finally
exits. In theory the child should use as much memory as the parent being a
copy, but actually thanks to the copy-on-write semantic implemented by most
modern operating systems the parent and child process will <em>share</em> the common
memory pages. A page will be duplicated only when it changes in the child or in
the parent. Since in theory all the pages may change while the child process is
saving, Linux can’t tell in advance how much memory the child will take, so if
the <code>overcommit_memory</code> setting is set to zero fork will fail unless there is
as much free RAM as required to really duplicate all the parent memory pages,
with the result that if you have a Redis dataset of 3 GB and just 2 GB of free
memory it will fail.</p><p>Setting <code>overcommit_memory</code> to 1 says Linux to relax and perform the fork in a
more optimistic allocation fashion, and this is indeed what you want for Redis.</p><p>A good source to understand how Linux Virtual Memory work and other
alternatives for <code>overcommit_memory</code> and <code>overcommit_ratio</code> is this classic
from Red Hat Magazine, <a href="http://www.redhat.com/magazine/001nov04/features/vm/">“Understanding Virtual Memory”</a>.
Beware, this article had <code>1</code> and <code>2</code> configuration values for <code>overcommit_memory</code>
reversed: refer to the <a href="http://man7.org/linux/man-pages/man5/proc.5.html">proc(5)</a> man page for the right meaning of the
available values.</p><h2 id="faq-are-redis-on-disk-snapshots-atomic">Are Redis on-disk-snapshots atomic?</h2><p>Yes, redis background saving process is always forked when the server is
outside of the execution of a command, so every command reported to be atomic
in RAM is also atomic from the point of view of the disk snapshot.</p><h2 id="faq-redis-is-single-threaded-how-can-i-exploit-multiple-cpu-cores">Redis is single threaded. How can I exploit multiple CPU / cores?</h2><p>It’s very unlikely that CPU becomes your bottleneck with Redis, as usually Redis is either memory or network bound. For instance, using pipelining Redis running
on an average Linux system can deliver even 500k requests per second, so
if your application mainly uses O(N) or O(log(N)) commands, it is hardly
going to use too much CPU.</p><p>However, to maximize CPU usage you can start multiple instances of Redis in
the same box and treat them as different servers. At some point a single
box may not be enough anyway, so if you want to use multiple CPUs you can
start thinking of some way to shard earlier.</p><p>You can find more information about using multiple Redis instances in the <a href="/topics/partitioning">Partitioning page</a>.</p><h2 id="faq-what-is-the-maximum-number-of-keys-a-single-redis-instance-can-hold-and-what-the-max-number-of-elements-in-a-hash-list-set-sorted-set">What is the maximum number of keys a single Redis instance can hold? and what the max number of elements in a Hash, List, Set, Sorted Set?</h2><p>Redis can handle up to 2^32 keys, and was tested in practice to
handle at least 250 million of keys per instance.</p><p>Every hash, list, set, and sorted set, can hold 2^32 elements.</p><p>In other words your limit is likely the available memory in your system.</p><h2 id="faq-my-slave-claims-to-have-a-different-number-of-keys-compared-to-its-master-why">My slave claims to have a different number of keys compared to its master, why?</h2><p>If you use keys with limited time to live (Redis expires) this is normal behavior. This is what happens:</p><ul>
<li>The master generates an RDB file on the first synchronization with the slave.</li>
<li>The RDB file will not include keys already expired in the master, but that are still in memory.</li>
<li>However these keys are still in the memory of the Redis master, even if logically expired. They’ll not be considered as existing, but the memory will be reclaimed later, both incrementally and explicitly on access. However while these keys are not logical part of the dataset, they are advertised in <code>INFO</code> output and by the <code>DBSIZE</code> command.</li>
<li>When the slave reads the RDB file generated by the master, this set of keys will not be loaded.</li>
</ul><p>As a result of this, it is common for users with many keys with an expire set to see less keys in the slaves, because of this artifact, but there is no actual logical difference in the instances content.</p><h2 id="faq-what-redis-means-actually">What Redis means actually?</h2><p>It means REmote DIctionary Server.</p><h2 id="faq-why-did-you-start-the-redis-project">Why did you start the Redis project?</h2><p>Originally Redis was started in order to scale <a href="http://lloogg.com">LLOOGG</a>. But after I got the basic server working I liked the idea to share the work with other people, and Redis was turned into an open source project.</p></div>
  <!-- ngIf: docbaseOptions.method == 'github' --><a data-ng-if="docbaseOptions.method == 'github'" class="edit ng-scope" ng-href="https://github.com/farhan687/redis/tree/master/src/alpha/topics/faq.md" target="_blank" href="https://github.com/farhan687/redis/tree/master/src/alpha/topics/faq.md">
    <span class="fa fa-pencil"> Edit</span>
  </a><!-- end ngIf: docbaseOptions.method == 'github' -->
</div><!-- end ngIf: !index -->
<!-- ngIf: index -->
</div>

 <script type="text/javascript" src="./docbase-config.js"></script>
  <script type="text/javascript" src="./bower_components/docbase/dist/js/main.unique.js"></script>



</body><script>$(function(){  $('.search-form').searchAppbase('/search-index.json', true); })</script></html>